<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>宠物档案详情 - 咪咪</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        :root {
            --primary-color: #1890ff;
            --bg-color: #f0f2f5;
            --card-bg: #ffffff;
            --text-main: #333333;
            --text-secondary: #666666;
            --danger-color: #ff4d4f;
            --success-color: #52c41a;
            --warning-color: #faad14;
            --border-radius: 8px;
        }

        body {
            font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--bg-color);
            color: var(--text-main);
        }

        /* 顶部导航 (复刻原图风格) */
        .navbar {
            background: #fff;
            padding: 0 24px;
            height: 64px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 1px 4px rgba(0, 0, 0, 0.08);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .navbar h1 {
            font-size: 20px;
            margin: 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .navbar i {
            color: var(--primary-color);
        }

        /* 主布局 */
        .container {
            max-width: 1200px;
            margin: 24px auto;
            padding: 0 16px;
            display: grid;
            grid-template-columns: 350px 1fr;
            /* 左侧概览，右侧详情 */
            gap: 24px;
        }

        /* 通用卡片样式 */
        .card {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 24px;
            margin-bottom: 24px;
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.03);
        }

        .card-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 16px;
            border-left: 4px solid var(--primary-color);
            padding-left: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        /* 1. 宠物基本信息 (侧边栏) */
        .pet-avatar {
            width: 100%;
            height: 200px;
            background-color: #e6f7ff;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: var(--border-radius);
            margin-bottom: 16px;
            font-size: 64px;
            color: var(--primary-color);
            overflow: hidden;
        }

        .pet-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .info-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
            border-bottom: 1px dashed #eee;
            padding-bottom: 8px;
        }

        .info-label {
            color: var(--text-secondary);
        }

        .info-value {
            font-weight: 500;
        }

        /* 标签样式 */
        .tag {
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 12px;
        }

        .tag-blue {
            background: #e6f7ff;
            color: #1890ff;
            border: 1px solid #91d5ff;
        }

        .tag-green {
            background: #f6ffed;
            color: #52c41a;
            border: 1px solid #b7eb8f;
        }

        /* 2. 健康概览 (网格) */
        .health-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 16px;
        }

        .health-item {
            background: #fafafa;
            padding: 16px;
            border-radius: var(--border-radius);
            text-align: center;
        }

        .health-value {
            font-size: 20px;
            font-weight: bold;
            margin: 8px 0;
        }

        .status-ok {
            color: var(--success-color);
        }

        .status-warn {
            color: var(--danger-color);
        }

        /* 3. 医疗历史 (时间轴) */
        .timeline {
            list-style: none;
            padding: 0;
            margin: 0;
            border-left: 2px solid #f0f0f0;
            margin-left: 10px;
        }

        .timeline-item {
            margin-bottom: 24px;
            padding-left: 24px;
            position: relative;
        }

        .timeline-item::before {
            content: '';
            width: 10px;
            height: 10px;
            background: var(--primary-color);
            border-radius: 50%;
            position: absolute;
            left: -6px;
            top: 5px;
        }

        .timeline-date {
            font-size: 12px;
            color: var(--text-secondary);
            margin-bottom: 4px;
        }

        .timeline-content h4 {
            margin: 0 0 4px 0;
            font-size: 16px;
        }

        .timeline-desc {
            font-size: 14px;
            color: var(--text-secondary);
        }

        .attachment-link {
            font-size: 12px;
            color: var(--primary-color);
            cursor: pointer;
            display: block;
            margin-top: 5px;
        }

        /* 4. 消费记录 (表格) */
        table {
            width: 100%;
            border-collapse: collapse;
        }

        th,
        td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #f0f0f0;
        }

        th {
            background: #fafafa;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .money {
            font-family: 'Consolas', monospace;
            color: var(--warning-color);
            font-weight: bold;
        }

        /* 5. 趋势图表 */
        .chart-container {
            position: relative;
            height: 250px;
            width: 100%;
        }

        /* 6. 特殊需求 (警告框) */
        .alert-box {
            background-color: #fff2f0;
            border: 1px solid #ffccc7;
            padding: 12px;
            border-radius: 4px;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .alert-box strong {
            color: var(--danger-color);
        }

        textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #d9d9d9;
            border-radius: 4px;
            resize: vertical;
            min-height: 80px;
            font-family: inherit;
        }

        /* 7. 页脚日志 */
        .footer-log {
            text-align: center;
            color: #999;
            font-size: 12px;
            margin-top: 40px;
            padding-bottom: 20px;
            border-top: 1px solid #e8e8e8;
            padding-top: 20px;
        }

        /* 响应式调整 */
        @media (max-width: 768px) {
            .container {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>

<body>

    <nav class="navbar">
        <h1><i class="fas fa-paw"></i> 宠物行业管理系统</h1>
        <div>
            <span style="margin-right: 15px; color: #666;"><i class="fas fa-user-circle"></i> 管理员</span>
            <button style="border:none; background:none; cursor:pointer;">退出</button>
        </div>
    </nav>

    <div class="container">

        <aside>
            <section class="card">
                <div class="pet-avatar">
                    <i class="fas fa-cat"></i>
                </div>
                <h2 style="text-align: center; margin: 0 0 5px 0;">咪咪 (Mimi)</h2>
                <div style="text-align: center; margin-bottom: 20px;">
                    <span class="tag tag-blue">ID: CAT-2023001</span>
                    <span class="tag tag-green">在档</span>
                </div>

                <div class="info-row">
                    <span class="info-label">品种</span>
                    <span class="info-value">英短蓝猫</span>
                </div>
                <div class="info-row">
                    <span class="info-label">性别</span>
                    <span class="info-value"><i class="fas fa-venus" style="color: pink;"></i> 母</span>
                </div>
                <div class="info-row">
                    <span class="info-label">年龄</span>
                    <span class="info-value">2岁 3个月</span>
                </div>
                <div class="info-row">
                    <span class="info-label">体重</span>
                    <span class="info-value">5.2 kg <span style="color: red; font-size: 12px;">(偏重)</span></span>
                </div>
                <div class="info-row">
                    <span class="info-label">毛色</span>
                    <span class="info-value">灰色/蓝色</span>
                </div>
            </section>

            <section class="card">
                <div class="card-title">特殊需求 & 备注</div>

                <div class="alert-box">
                    <i class="fas fa-exclamation-triangle" style="color: var(--danger-color);"></i>
                    <div>
                        <strong>严重过敏源：</strong> 青霉素、海鲜类罐头
                    </div>
                </div>

                <div class="info-row">
                    <span class="info-label">紧急联系人</span>
                    <span class="info-value">张先生 (主人)</span>
                </div>
                <div class="info-row">
                    <span class="info-label">联系电话</span>
                    <span class="info-value">138-0000-0000</span>
                </div>

                <div style="margin-top: 15px;">
                    <label style="font-size: 12px; color: #666; display:block; margin-bottom: 5px;">日常护理备注：</label>
                    <textarea placeholder="输入新的备注信息...">性格比较胆小，看诊时建议使用猫保定袋。最近有挑食现象。</textarea>
                    <button
                        style="margin-top: 8px; width: 100%; background: var(--primary-color); color: #fff; border: none; padding: 8px; border-radius: 4px; cursor: pointer;">保存备注</button>
                </div>
            </section>
        </aside>

        <main>
            <section class="card">
                <div class="card-title">
                    健康概览
                    <button
                        style="font-size: 14px; background: none; border: 1px solid #ddd; padding: 4px 10px; border-radius: 4px; cursor: pointer;">更新状态</button>
                </div>
                <div class="health-grid">
                    <div class="health-item">
                        <div style="font-size: 12px; color: #999;">健康评级</div>
                        <div class="health-value status-ok">良好 (A)</div>
                        <div style="font-size: 12px;">无重大疾病</div>
                    </div>
                    <div class="health-item">
                        <div style="font-size: 12px; color: #999;">疫苗状态</div>
                        <div class="health-value status-ok">已接种</div>
                        <div style="font-size: 12px;">猫三联 (2025/11 到期)</div>
                    </div>
                    <div class="health-item">
                        <div style="font-size: 12px; color: #999;">体内外驱虫</div>
                        <div class="health-value status-warn">待处理</div>
                        <div style="font-size: 12px; color: var(--danger-color);">逾期 5 天</div>
                    </div>
                    <div class="health-item">
                        <div style="font-size: 12px; color: #999;">下次体检</div>
                        <div class="health-value">2025-12-20</div>
                        <div style="font-size: 12px;">剩余 14 天</div>
                    </div>
                </div>
            </section>

            <section class="card">
                <div class="card-title">健康趋势监测</div>
                <div class="chart-container">
                    <canvas id="healthTrendChart"></canvas>
                </div>
                <div style="margin-top: 10px; font-size: 13px; color: #666; background: #f9f9f9; padding: 10px;">
                    <i class="fas fa-info-circle"></i> <strong>行为观察：</strong> 11月活动量有所下降，可能与气温降低有关，建议增加室内互动玩具。
                </div>
            </section>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px;">
                <section class="card">
                    <div class="card-title">医疗历史记录</div>
                    <ul class="timeline">
                        <li class="timeline-item">
                            <div class="timeline-date">2025-11-05</div>
                            <div class="timeline-content">
                                <h4>年度体检 & 疫苗接种</h4>
                                <div class="timeline-desc">接种妙三多第3针，常规生化检查正常。</div>
                                <span class="attachment-link"><i class="fas fa-file-pdf"></i> 查看体检报告.pdf</span>
                            </div>
                        </li>
                        <li class="timeline-item">
                            <div class="timeline-date">2025-06-12</div>
                            <div class="timeline-content">
                                <h4>软便治疗</h4>
                                <div class="timeline-desc">诊断为肠胃炎，开了益生菌和处方粮。</div>
                                <div class="timeline-desc" style="color: #666; font-size: 12px;">费用：¥320.00</div>
                            </div>
                        </li>
                        <li class="timeline-item">
                            <div class="timeline-date">2024-12-10</div>
                            <div class="timeline-content">
                                <h4>绝育手术</h4>
                                <div class="timeline-desc">吸入麻醉，手术顺利，恢复良好。</div>
                            </div>
                        </li>
                    </ul>
                </section>

                <section class="card">
                    <div class="card-title">
                        近期消费记录
                        <select style="font-size: 12px;">
                            <option>2025年</option>
                            <option>2024年</option>
                        </select>
                    </div>
                    <table>
                        <thead>
                            <tr>
                                <th>日期</th>
                                <th>项目</th>
                                <th>金额</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>12-01</td>
                                <td>寄养 (3天)</td>
                                <td class="money">¥450</td>
                            </tr>
                            <tr>
                                <td>11-05</td>
                                <td>年度疫苗</td>
                                <td class="money">¥120</td>
                            </tr>
                            <tr>
                                <td>11-05</td>
                                <td>全身体检</td>
                                <td class="money">¥800</td>
                            </tr>
                            <tr>
                                <td>10-20</td>
                                <td>洗护美容</td>
                                <td class="money">¥150</td>
                            </tr>
                        </tbody>
                        <tfoot>
                            <tr>
                                <td colspan="2" style="text-align: right; font-weight: bold;">本年度总计：</td>
                                <td class="money" style="font-size: 16px;">¥3,520</td>
                            </tr>
                        </tfoot>
                    </table>
                    <div style="margin-top: 15px;">
                        <div style="font-size: 12px; color: #666; margin-bottom: 5px;">支出构成 (医疗 vs 美容 vs 食品)</div>
                        <div
                            style="height: 8px; width: 100%; background: #eee; border-radius: 4px; display: flex; overflow: hidden;">
                            <div style="width: 60%; background: #ff4d4f;" title="医疗 60%"></div>
                            <div style="width: 20%; background: #1890ff;" title="美容 20%"></div>
                            <div style="width: 20%; background: #faad14;" title="食品 20%"></div>
                        </div>
                    </div>
                </section>
            </div>

        </main>
    </div>

    <footer class="footer-log">
        <p>最后更新于：2025-12-06 09:30:00 | 数据来源：兽医诊疗系统同步</p>
        <p style="font-size: 11px; opacity: 0.7;">
            修改记录：[2025-12-06] 同步最新体重数据; [2025-11-05] 添加疫苗接种记录 (操作员: Admin)
        </p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const ctx = document.getElementById('healthTrendChart').getContext('2d');

            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['6月', '7月', '8月', '9月', '10月', '11月', '12月'],
                    datasets: [{
                        label: '体重变化 (kg)',
                        data: [4.5, 4.6, 4.6, 4.8, 5.0, 5.1, 5.2],
                        borderColor: '#1890ff',
                        backgroundColor: 'rgba(24, 144, 255, 0.1)',
                        tension: 0.4,
                        fill: true,
                        yAxisID: 'y'
                    }, {
                        label: '每日食量 (g)',
                        data: [60, 65, 65, 70, 75, 70, 65],
                        borderColor: '#52c41a',
                        borderDash: [5, 5],
                        tension: 0.4,
                        fill: false,
                        yAxisID: 'y1'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    interaction: {
                        mode: 'index',
                        intersect: false,
                    },
                    scales: {
                        y: {
                            type: 'linear',
                            display: true,
                            position: 'left',
                            title: { display: true, text: '体重 (kg)' }
                        },
                        y1: {
                            type: 'linear',
                            display: true,
                            position: 'right',
                            grid: { drawOnChartArea: false },
                            title: { display: true, text: '食量 (g)' }
                        }
                    }
                }
            });
        });
    </script>
</body>

</html>