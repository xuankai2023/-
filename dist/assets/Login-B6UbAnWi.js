"use client";var Tt=Object.defineProperty;var a=(e,t)=>Tt(e,"name",{value:t,configurable:!0});import{r as o,R as v,u as Mt,b as Nt,j as H}from"./index-C0jzUuew.js";import{_ as X,u as It,B as ge,c as Le,a as Ot,b as B,p as We,C as De,d as Se,K as Re,P as zt,e as Ht,f as jt,D as Ft,g as Ae,h as Lt,i as S,m as Wt,j as Dt,r as At,k as Ge,l as re,n as Ve,o as Gt,q as Vt,s as qt,z as _t,t as Xt,v as Ut,w as qe,x as Kt,y as Zt,R as Qt,A as Yt,E as Jt,F as kt,G as en,H as tn,J as nn,L as on}from"./Button-By4dS-Fa.js";import{u as rn,R as _e,g as ne,S as an}from"./Skeleton-Dx5twA16.js";import{C as sn}from"./ContextIsolator-ByVvIAHJ.js";import{u as Ce}from"./extendsObject-Cr-ziPdv.js";import{g as ln}from"./index-v3wxyXJo.js";import{i as cn,a as un}from"./zoom-CIbbfNif.js";import{u as dn}from"./useMergedMask-CDPnbdkM.js";import{u as mn,p as Be}from"./useClosable-Bw2GH6bD.js";import{w as fn}from"./PurePanel-HEthGHii.js";const pn=a(()=>{const[e,t]=o.useState([]),n=o.useCallback(r=>(t(l=>[].concat(X(l),[r])),()=>{t(l=>l.filter(i=>i!==r))}),[]);return[e,n]},"usePatchElement"),ue=a(e=>typeof(e==null?void 0:e.then)=="function","isThenable"),Xe=a(e=>{const{type:t,children:n,prefixCls:r,buttonProps:l,close:i,autoFocus:c,emitEvent:f,isSilent:u,quitOnNullishReturnValue:d,actionFn:s}=e,g=o.useRef(!1),m=o.useRef(null),[$,x]=It(!1),p=a((...h)=>{i==null||i(...h)},"onInternalClose");o.useEffect(()=>{let h=null;return c&&(h=setTimeout(()=>{var y;(y=m.current)==null||y.focus({preventScroll:!0})})),()=>{h&&clearTimeout(h)}},[c]);const C=a(h=>{ue(h)&&(x(!0),h.then((...y)=>{x(!1,!0),p.apply(void 0,y),g.current=!1},y=>{if(x(!1,!0),g.current=!1,!(u!=null&&u()))return Promise.reject(y)}))},"handlePromiseOnOk"),b=a(h=>{if(g.current)return;if(g.current=!0,!s){p();return}let y;if(f){if(y=s(h),d&&!ue(y)){g.current=!1,p(h);return}}else if(s.length)y=s(i),g.current=!1;else if(y=s(),!ue(y)){p();return}C(y)},"onClick");return o.createElement(ge,{...Le(t),onClick:b,loading:$,prefixCls:r,...l,ref:m},n)},"ActionButton"),Y=v.createContext({}),{Provider:Ue}=Y,Te=a(()=>{const{autoFocusButton:e,cancelButtonProps:t,cancelTextLocale:n,isSilent:r,mergedOkCancel:l,rootPrefixCls:i,close:c,onCancel:f,onConfirm:u,onClose:d}=o.useContext(Y);return l?v.createElement(Xe,{isSilent:r,actionFn:f,close:a((...s)=>{c==null||c(...s),u==null||u(!1),d==null||d()},"close"),autoFocus:e==="cancel",buttonProps:t,prefixCls:`${i}-btn`},n):null},"ConfirmCancelBtn"),Me=a(()=>{const{autoFocusButton:e,close:t,isSilent:n,okButtonProps:r,rootPrefixCls:l,okTextLocale:i,okType:c,onConfirm:f,onOk:u,onClose:d}=o.useContext(Y);return v.createElement(Xe,{isSilent:n,type:c||"primary",actionFn:u,close:a((...s)=>{t==null||t(...s),f==null||f(!0),d==null||d()},"close"),autoFocus:e==="ok",buttonProps:r,prefixCls:`${l}-btn`},i)},"ConfirmOkBtn"),Ke=o.createContext({});function Ne(e,t,n){let r=t;return!r&&n&&(r=`${e}-${n}`),r}a(Ne,"getMotionName");function Ie(e,t){let n=e[`page${t?"Y":"X"}Offset`];const r=`scroll${t?"Top":"Left"}`;if(typeof n!="number"){const l=e.document;n=l.documentElement[r],typeof n!="number"&&(n=l.body[r])}return n}a(Ie,"getScroll");function gn(e){const t=e.getBoundingClientRect(),n={left:t.left,top:t.top},r=e.ownerDocument,l=r.defaultView||r.parentWindow;return n.left+=Ie(l),n.top+=Ie(l,!0),n}a(gn,"offset");const Cn=o.memo(({children:e})=>e,(e,{shouldUpdate:t})=>!t);function oe(){return oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oe.apply(this,arguments)}a(oe,"_extends$4");const xn={width:0,height:0,overflow:"hidden",outline:"none"},hn={outline:"none"},Ze=v.forwardRef((e,t)=>{const{prefixCls:n,className:r,style:l,title:i,ariaId:c,footer:f,closable:u,closeIcon:d,onClose:s,children:g,bodyStyle:m,bodyProps:$,modalRender:x,onMouseDown:p,onMouseUp:C,holderRef:b,visible:h,forceRender:y,width:T,height:M,classNames:E,styles:P}=e,{panel:F}=v.useContext(Ke),W=Ot(b,F),R=o.useRef(null),z=o.useRef(null);v.useImperativeHandle(t,()=>({focus:a(()=>{var O;(O=R.current)==null||O.focus({preventScroll:!0})},"focus"),changeActive:a(O=>{const{activeElement:A}=document;O&&A===z.current?R.current.focus({preventScroll:!0}):!O&&A===R.current&&z.current.focus({preventScroll:!0})},"changeActive")}));const I={};T!==void 0&&(I.width=T),M!==void 0&&(I.height=M);const q=f?v.createElement("div",{className:B(`${n}-footer`,E==null?void 0:E.footer),style:{...P==null?void 0:P.footer}},f):null,U=i?v.createElement("div",{className:B(`${n}-header`,E==null?void 0:E.header),style:{...P==null?void 0:P.header}},v.createElement("div",{className:B(`${n}-title`,E==null?void 0:E.title),id:c,style:{...P==null?void 0:P.title}},i)):null,G=o.useMemo(()=>typeof u=="object"&&u!==null?u:u?{closeIcon:d??v.createElement("span",{className:`${n}-close-x`})}:{},[u,d,n]),K=We(G,!0),_=typeof u=="object"&&u.disabled,Z=u?v.createElement("button",oe({type:"button",onClick:s,"aria-label":"Close"},K,{className:`${n}-close`,disabled:_}),G.closeIcon):null,D=v.createElement("div",{className:B(`${n}-container`,E==null?void 0:E.container),style:P==null?void 0:P.container},Z,U,v.createElement("div",oe({className:B(`${n}-body`,E==null?void 0:E.body),style:{...m,...P==null?void 0:P.body}},$),g),q);return v.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":i?c:null,"aria-modal":"true",ref:W,style:{...l,...I},className:B(n,r),onMouseDown:p,onMouseUp:C},v.createElement("div",{ref:R,tabIndex:0,style:hn},v.createElement(Cn,{shouldUpdate:h||y},x?x(D):D)),v.createElement("div",{tabIndex:0,ref:z,style:xn}))});function de(){return de=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},de.apply(this,arguments)}a(de,"_extends$3");const bn=o.forwardRef((e,t)=>{const{prefixCls:n,title:r,style:l,className:i,visible:c,forceRender:f,destroyOnHidden:u,motionName:d,ariaId:s,onVisibleChanged:g,mousePosition:m}=e,$=o.useRef(null),x=o.useRef(null);o.useImperativeHandle(t,()=>({...x.current,inMotion:$.current.inMotion,enableMotion:$.current.enableMotion}));const[p,C]=o.useState(),b={};p&&(b.transformOrigin=p);function h(){const y=gn($.current.nativeElement);C(m&&(m.x||m.y)?`${m.x-y.left}px ${m.y-y.top}px`:"")}return a(h,"onPrepare"),o.createElement(De,{visible:c,onVisibleChanged:g,onAppearPrepare:h,onEnterPrepare:h,forceRender:f,motionName:d,removeOnLeave:u,ref:$},({className:y,style:T},M)=>o.createElement(Ze,de({},e,{ref:x,title:r,ariaId:s,prefixCls:n,holderRef:M,style:{...T,...l,...b},className:B(i,y)})))});function me(){return me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},me.apply(this,arguments)}a(me,"_extends$2");const yn=a(e=>{const{prefixCls:t,style:n,visible:r,maskProps:l,motionName:i,className:c}=e;return o.createElement(De,{key:"mask",visible:r,motionName:i,leavedClassName:`${t}-mask-hidden`},({className:f,style:u},d)=>o.createElement("div",me({ref:d,style:{...u,...n},className:B(`${t}-mask`,f,c)},l)))},"Mask");function Q(){return Q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q.apply(this,arguments)}a(Q,"_extends$1");const $n=a(e=>{const{prefixCls:t="rc-dialog",zIndex:n,visible:r=!1,keyboard:l=!0,focusTriggerAfterClose:i=!0,wrapStyle:c,wrapClassName:f,wrapProps:u,onClose:d,afterOpenChange:s,afterClose:g,transitionName:m,animation:$,closable:x=!0,mask:p=!0,maskTransitionName:C,maskAnimation:b,maskClosable:h=!0,maskStyle:y,maskProps:T,rootClassName:M,rootStyle:E,classNames:P,styles:F}=e,W=o.useRef(null),R=o.useRef(null),z=o.useRef(null),[I,q]=o.useState(r),U=rn();function G(){Se(R.current,document.activeElement)||(W.current=document.activeElement)}a(G,"saveLastOutSideActiveElementRef");function K(){var w;Se(R.current,document.activeElement)||(w=z.current)==null||w.focus()}a(K,"focusDialogContent");function _(){if(q(!1),p&&W.current&&i){try{W.current.focus({preventScroll:!0})}catch{}W.current=null}I&&(g==null||g())}a(_,"doClose");function Z(w){w?K():_(),s==null||s(w)}a(Z,"onDialogVisibleChanged");function D(w){d==null||d(w)}a(D,"onInternalClose");const O=o.useRef(!1),A=o.useRef(null),ae=a(()=>{clearTimeout(A.current),O.current=!0},"onContentMouseDown"),se=a(()=>{A.current=setTimeout(()=>{O.current=!1})},"onContentMouseUp");let k=null;h&&(k=a(w=>{O.current?O.current=!1:R.current===w.target&&D(w)},"onWrapperClick"));function le(w){if(l&&w.keyCode===Re.ESC){w.stopPropagation(),D(w);return}r&&w.keyCode===Re.TAB&&z.current.changeActive(!w.shiftKey)}a(le,"onWrapperKeyDown"),o.useEffect(()=>{r?(q(!0),G()):I&&z.current.enableMotion()&&!z.current.inMotion()&&_()},[r]),o.useEffect(()=>()=>{clearTimeout(A.current)},[]);const ie={zIndex:n,...c,...F==null?void 0:F.wrapper,display:I?null:"none"};return o.createElement("div",Q({className:B(`${t}-root`,M),style:E},We(e,{data:!0})),o.createElement(yn,{prefixCls:t,visible:p&&r,motionName:Ne(t,C,b),style:{zIndex:n,...y,...F==null?void 0:F.mask},maskProps:T,className:P==null?void 0:P.mask}),o.createElement("div",Q({tabIndex:-1,onKeyDown:le,className:B(`${t}-wrap`,f,P==null?void 0:P.wrapper),ref:R,onClick:k,style:ie},u),o.createElement(bn,Q({},e,{onMouseDown:ae,onMouseUp:se,ref:z,closable:x,ariaId:U,prefixCls:t,visible:r&&I,onClose:D,onVisibleChanged:Z,motionName:Ne(t,m,$)}))))},"Dialog");function fe(){return fe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fe.apply(this,arguments)}a(fe,"_extends");const vn=a(e=>{const{visible:t,getContainer:n,forceRender:r,destroyOnHidden:l=!1,afterClose:i,closable:c,panelRef:f}=e,[u,d]=o.useState(t),s=o.useMemo(()=>({panel:f}),[f]);return o.useEffect(()=>{t&&d(!0)},[t]),!r&&l&&!u?null:o.createElement(Ke.Provider,{value:s},o.createElement(zt,{open:t||r||u,autoDestroy:!1,getContainer:n,autoLock:t||u},o.createElement($n,fe({},e,{destroyOnHidden:l,afterClose:a(()=>{const g=c&&typeof c=="object"?c:{},{afterClose:m}=g||{};m==null||m(),i==null||i(),d(!1)},"afterClose")}))))},"DialogWrap"),Pn=a(()=>Ht()&&window.document.documentElement,"canUseDocElement");function Oe(){}a(Oe,"voidFunc");const En=o.createContext({add:Oe,remove:Oe});function wn(e){const t=o.useContext(En),n=o.useRef(null);return jt(l=>{if(l){const i=e?l.querySelector(e):l;i&&(t.add(i),n.current=i)}else t.remove(n.current)})}a(wn,"usePanelRef");const ze=a(()=>{const{cancelButtonProps:e,cancelTextLocale:t,onCancel:n}=o.useContext(Y);return v.createElement(ge,{onClick:n,...e},t)},"NormalCancelBtn"),He=a(()=>{const{confirmLoading:e,okButtonProps:t,okType:n,okTextLocale:r,onOk:l}=o.useContext(Y);return v.createElement(ge,{...Le(n),loading:e,onClick:l,...t},r)},"NormalOkBtn");function Qe(e,t){return v.createElement("span",{className:`${e}-close-x`},t||v.createElement(_e,{className:`${e}-close-icon`}))}a(Qe,"renderCloseIcon");const Ye=a(e=>{const{okText:t,okType:n="primary",cancelText:r,confirmLoading:l,onOk:i,onCancel:c,okButtonProps:f,cancelButtonProps:u,footer:d}=e,[s]=Ce("Modal",Ae()),g=t||(s==null?void 0:s.okText),m=r||(s==null?void 0:s.cancelText),$=v.useMemo(()=>({confirmLoading:l,okButtonProps:f,cancelButtonProps:u,okTextLocale:g,cancelTextLocale:m,okType:n,onOk:i,onCancel:c}),[l,f,u,g,m,n,i,c]);let x;return typeof d=="function"||typeof d>"u"?(x=v.createElement(v.Fragment,null,v.createElement(ze,null),v.createElement(He,null)),typeof d=="function"&&(x=d(x,{OkBtn:He,CancelBtn:ze})),x=v.createElement(Ue,{value:$},x)):x=d,v.createElement(Ft,{disabled:!1},x)},"Footer");function je(e){return{position:e,inset:0}}a(je,"box");const Sn=a(e=>{const{componentCls:t,antCls:n}=e;return[{[`${t}-root`]:{[`${t}${n}-zoom-enter, ${t}${n}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:e.motionDurationSlow,userSelect:"none"},[`${t}${n}-zoom-leave ${t}-container`]:{pointerEvents:"none"},[`${t}-mask`]:{...je("fixed"),zIndex:e.zIndexPopupBase,height:"100%",backgroundColor:e.colorBgMask,pointerEvents:"none",[`&${t}-mask-blur`]:{backdropFilter:"blur(4px)"},[`${t}-hidden`]:{display:"none"}},[`${t}-wrap`]:{...je("fixed"),zIndex:e.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"}}},{[`${t}-root`]:un(e)}]},"genModalMaskStyle"),Rn=a(e=>{const{componentCls:t}=e;return[{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl"},[`${t}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[t]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${e.screenSMMax}px)`]:{[t]:{maxWidth:"calc(100vw - 16px)",margin:`${S(e.marginXS)} auto`},[`${t}-centered`]:{[t]:{flex:1}}}}},{[t]:{...At(e),pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${S(e.calc(e.margin).mul(2).equal())})`,margin:"0 auto",paddingBottom:e.paddingLG,[`${t}-title`]:{margin:0,color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.titleFontSize,lineHeight:e.titleLineHeight,wordWrap:"break-word"},[`${t}-container`]:{position:"relative",backgroundColor:e.contentBg,backgroundClip:"padding-box",border:0,borderRadius:e.borderRadiusLG,boxShadow:e.boxShadow,pointerEvents:"auto",padding:e.contentPadding},[`${t}-close`]:{position:"absolute",top:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),insetInlineEnd:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),zIndex:e.calc(e.zIndexPopupBase).add(10).equal(),padding:0,color:e.modalCloseIconColor,fontWeight:e.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:e.borderRadiusSM,width:e.modalCloseBtnSize,height:e.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${e.motionDurationMid}, background-color ${e.motionDurationMid}`,"&-x":{display:"flex",fontSize:e.fontSizeLG,fontStyle:"normal",lineHeight:S(e.modalCloseBtnSize),justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:disabled":{pointerEvents:"none"},"&:hover":{color:e.modalCloseIconHoverColor,backgroundColor:e.colorBgTextHover,textDecoration:"none"},"&:active":{backgroundColor:e.colorBgTextActive},...Dt(e)},[`${t}-header`]:{color:e.colorText,background:e.headerBg,borderRadius:`${S(e.borderRadiusLG)} ${S(e.borderRadiusLG)} 0 0`,marginBottom:e.headerMarginBottom,padding:e.headerPadding,borderBottom:e.headerBorderBottom},[`${t}-body`]:{fontSize:e.fontSize,lineHeight:e.lineHeight,wordWrap:"break-word",padding:e.bodyPadding,[`${t}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:`${S(e.margin)} auto`}},[`${t}-footer`]:{textAlign:"end",background:e.footerBg,marginTop:e.footerMarginTop,padding:e.footerPadding,borderTop:e.footerBorderTop,borderRadius:e.footerBorderRadius,[`> ${e.antCls}-btn + ${e.antCls}-btn`]:{marginInlineStart:e.marginXS}},[`${t}-open`]:{overflow:"hidden"}}},{[`${t}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${t}-container,
          ${t}-body,
          ${t}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${t}-confirm-body`]:{marginBottom:"auto"}}}]},"genModalStyle"),Bn=a(e=>{const{componentCls:t}=e;return{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl",[`${t}-confirm-body`]:{direction:"rtl"}}}}},"genRTLStyle"),Tn=a(e=>{const{componentCls:t}=e,n=ln(e),r={...n};delete r.xs;const l=`--${t.replace(".","")}-`,i=Object.keys(r).map(c=>({[`@media (min-width: ${S(r[c])})`]:{width:`var(${l}${c}-width)`}}));return{[`${t}-root`]:{[t]:[].concat(X(Object.keys(n).map((c,f)=>{const u=Object.keys(n)[f-1];return u?{[`${l}${c}-width`]:`var(${l}${u}-width)`}:null})),[{width:`var(${l}xs-width)`}],X(i))}}},"genResponsiveWidthStyle"),Je=a(e=>{const t=e.padding,n=e.fontSizeHeading5,r=e.lineHeightHeading5;return Wt(e,{modalHeaderHeight:e.calc(e.calc(r).mul(n).equal()).add(e.calc(t).mul(2).equal()).equal(),modalFooterBorderColorSplit:e.colorSplit,modalFooterBorderStyle:e.lineType,modalFooterBorderWidth:e.lineWidth,modalCloseIconColor:e.colorIcon,modalCloseIconHoverColor:e.colorIconHover,modalCloseBtnSize:e.controlHeight,modalConfirmIconSize:e.fontHeight,modalTitleHeight:e.calc(e.titleFontSize).mul(e.titleLineHeight).equal()})},"prepareToken"),ke=a(e=>({footerBg:"transparent",headerBg:"transparent",titleLineHeight:e.lineHeightHeading5,titleFontSize:e.fontSizeHeading5,contentBg:e.colorBgElevated,titleColor:e.colorTextHeading,contentPadding:e.wireframe?0:`${S(e.paddingMD)} ${S(e.paddingContentHorizontalLG)}`,headerPadding:e.wireframe?`${S(e.padding)} ${S(e.paddingLG)}`:0,headerBorderBottom:e.wireframe?`${S(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",headerMarginBottom:e.wireframe?0:e.marginXS,bodyPadding:e.wireframe?e.paddingLG:0,footerPadding:e.wireframe?`${S(e.paddingXS)} ${S(e.padding)}`:0,footerBorderTop:e.wireframe?`${S(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",footerBorderRadius:e.wireframe?`0 0 ${S(e.borderRadiusLG)} ${S(e.borderRadiusLG)}`:0,footerMarginTop:e.wireframe?0:e.marginSM,confirmBodyPadding:e.wireframe?`${S(e.padding*2)} ${S(e.padding*2)} ${S(e.paddingLG)}`:0,confirmIconMarginInlineEnd:e.wireframe?e.margin:e.marginSM,confirmBtnsMarginTop:e.wireframe?e.marginLG:e.marginSM,mask:!0}),"prepareComponentToken"),et=Lt("Modal",e=>{const t=Je(e);return[Rn(t),Bn(t),Sn(t),cn(t,"zoom"),Tn(t)]},ke,{unitless:{titleLineHeight:!0}});let pe;const Mn=a(e=>{pe={x:e.pageX,y:e.pageY},setTimeout(()=>{pe=null},100)},"getClickPosition");Pn()&&document.documentElement.addEventListener("click",Mn,!0);const tt=a(e=>{const{prefixCls:t,className:n,rootClassName:r,open:l,wrapClassName:i,centered:c,getContainer:f,focusTriggerAfterClose:u=!0,style:d,width:s=520,footer:g,classNames:m,styles:$,children:x,loading:p,confirmLoading:C,zIndex:b,mousePosition:h,onOk:y,onCancel:T,okButtonProps:M,cancelButtonProps:E,destroyOnHidden:P,destroyOnClose:F,panelRef:W=null,closable:R,mask:z,modalRender:I,...q}=e,{getPopupContainer:U,getPrefixCls:G,direction:K,className:_,style:Z,classNames:D,styles:O,centered:A,cancelButtonProps:ae,okButtonProps:se,mask:k}=Ge("modal"),{modal:le}=o.useContext(re),[ie,w]=o.useMemo(()=>typeof R=="boolean"?[void 0,void 0]:[R==null?void 0:R.afterClose,R==null?void 0:R.onClose],[R]),N=G("modal",t),xe=G(),[he,mt]=dn(z,k,N),be=a(L=>{C||(T==null||T(L),w==null||w())},"handleCancel"),ft=a(L=>{y==null||y(L),w==null||w()},"handleOk"),ye=Ve(N),[$e,pt]=et(N,ye),gt=B(i,{[`${N}-centered`]:c??A,[`${N}-wrap-rtl`]:K==="rtl"}),Ct=g!==null&&!p?o.createElement(Ye,{...e,okButtonProps:{...se,...M},onOk:ft,cancelButtonProps:{...ae,...E},onCancel:be}):null,[xt,ve,ht,bt]=mn(Be(e),Be(le),{closable:!0,closeIcon:o.createElement(_e,{className:`${N}-close-icon`}),closeIconRender:a(L=>Qe(N,L),"closeIconRender")}),yt=xt?{disabled:ht,closeIcon:ve,afterClose:ie,...bt}:!1,$t=I?L=>o.createElement("div",{className:`${N}-render`},I(L)):void 0,vt=`.${N}-${I?"render":"container"}`,Pt=wn(vt),Et=Gt(W,Pt),[Pe,wt]=Vt("Modal",b),St={...e,width:s,panelRef:W,focusTriggerAfterClose:u,mask:he,zIndex:Pe},[ce,Ee]=qt([D,m,mt],[O,$],{props:St}),[Rt,ee]=o.useMemo(()=>s&&typeof s=="object"?[void 0,s]:[s,void 0],[s]),Bt=o.useMemo(()=>{const L={};return ee&&Object.keys(ee).forEach(we=>{const te=ee[we];te!==void 0&&(L[`--${N}-${we}-width`]=typeof te=="number"?`${te}px`:te)}),L},[N,ee]);return o.createElement(sn,{form:!0,space:!0},o.createElement(_t.Provider,{value:wt},o.createElement(vn,{width:Rt,...q,zIndex:Pe,getContainer:f===void 0?U:f,prefixCls:N,rootClassName:B($e,r,pt,ye,ce.root),rootStyle:Ee.root,footer:Ct,visible:l,mousePosition:h??pe,onClose:be,closable:yt,closeIcon:ve,focusTriggerAfterClose:u,transitionName:ne(xe,"zoom",e.transitionName),maskTransitionName:ne(xe,"fade",e.maskTransitionName),mask:he,className:B($e,n,_),style:{...Z,...d,...Bt},classNames:{...ce,wrapper:B(ce.wrapper,gt)},styles:Ee,panelRef:Et,destroyOnHidden:P??F,modalRender:$t},p?o.createElement(an,{active:!0,title:!1,paragraph:{rows:4},className:`${N}-body-skeleton`}):x)))},"Modal$1"),Nn=a(e=>{const{componentCls:t,titleFontSize:n,titleLineHeight:r,modalConfirmIconSize:l,fontSize:i,lineHeight:c,modalTitleHeight:f,fontHeight:u,confirmBodyPadding:d}=e,s=`${t}-confirm`;return{[s]:{"&-rtl":{direction:"rtl"},[`${e.antCls}-modal-header`]:{display:"none"},[`${s}-body-wrapper`]:{...Ut()},[`&${t} ${t}-body`]:{padding:d},[`${s}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${e.iconCls}`]:{flex:"none",fontSize:l,marginInlineEnd:e.confirmIconMarginInlineEnd,marginTop:e.calc(e.calc(u).sub(l).equal()).div(2).equal()},[`&-has-title > ${e.iconCls}`]:{marginTop:e.calc(e.calc(f).sub(l).equal()).div(2).equal()}},[`${s}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:e.marginXS,maxWidth:`calc(100% - ${S(e.marginSM)})`},[`${e.iconCls} + ${s}-paragraph`]:{maxWidth:`calc(100% - ${S(e.calc(e.modalConfirmIconSize).add(e.marginSM).equal())})`},[`${s}-title`]:{color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:n,lineHeight:r},[`${s}-container`]:{color:e.colorText,fontSize:i,lineHeight:c},[`${s}-btns`]:{textAlign:"end",marginTop:e.confirmBtnsMarginTop,[`${e.antCls}-btn + ${e.antCls}-btn`]:{marginBottom:0,marginInlineStart:e.marginXS}}},[`${s}-error ${s}-body > ${e.iconCls}`]:{color:e.colorError},[`${s}-warning ${s}-body > ${e.iconCls},
        ${s}-confirm ${s}-body > ${e.iconCls}`]:{color:e.colorWarning},[`${s}-info ${s}-body > ${e.iconCls}`]:{color:e.colorInfo},[`${s}-success ${s}-body > ${e.iconCls}`]:{color:e.colorSuccess}}},"genModalConfirmStyle"),In=Xt(["Modal","confirm"],e=>{const t=Je(e);return Nn(t)},ke,{order:-1e3}),nt=a(e=>{const{prefixCls:t,icon:n,okText:r,cancelText:l,confirmPrefixCls:i,type:c,okCancel:f,footer:u,locale:d,...s}=e;let g=n;if(!n&&n!==null)switch(c){case"info":g=o.createElement(kt,null);break;case"success":g=o.createElement(Jt,null);break;case"error":g=o.createElement(Yt,null);break;default:g=o.createElement(Qt,null)}const m=f??c==="confirm",$=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",[x]=Ce("Modal"),p=d||x,C=r||(m?p==null?void 0:p.okText:p==null?void 0:p.justOkText),b=l||(p==null?void 0:p.cancelText),{closable:h}=s,{onClose:y}=h&&typeof h=="object"?h:{},T=o.useMemo(()=>({autoFocusButton:$,cancelTextLocale:b,okTextLocale:C,mergedOkCancel:m,onClose:y,...s}),[$,b,C,m,y,s]),M=o.createElement(o.Fragment,null,o.createElement(Te,null),o.createElement(Me,null)),E=e.title!==void 0&&e.title!==null,P=`${i}-body`;return o.createElement("div",{className:`${i}-body-wrapper`},o.createElement("div",{className:B(P,{[`${P}-has-title`]:E})},g,o.createElement("div",{className:`${i}-paragraph`},E&&o.createElement("span",{className:`${i}-title`},e.title),o.createElement("div",{className:`${i}-content`},e.content))),u===void 0||typeof u=="function"?o.createElement(Ue,{value:T},o.createElement("div",{className:`${i}-btns`},typeof u=="function"?u(M,{OkBtn:Me,CancelBtn:Te}):M)):u,o.createElement(In,{prefixCls:t}))},"ConfirmContent"),On=a(e=>{const{close:t,zIndex:n,maskStyle:r,direction:l,prefixCls:i,wrapClassName:c,rootPrefixCls:f,bodyStyle:u,closable:d=!1,onConfirm:s,styles:g,title:m,okButtonProps:$,cancelButtonProps:x}=e,{cancelButtonProps:p,okButtonProps:C}=Ge("modal"),b=`${i}-confirm`,h=e.width||416,y=e.style||{},T=e.maskClosable===void 0?!1:e.maskClosable,M=B(b,`${b}-${e.type}`,{[`${b}-rtl`]:l==="rtl"},e.className),[,E]=Kt(),P=o.useMemo(()=>n!==void 0?n:E.zIndexPopupBase+Zt,[n,E]);return o.createElement(tt,{...e,className:M,wrapClassName:B({[`${b}-centered`]:!!e.centered},c),onCancel:a(()=>{t==null||t({triggerCancel:!0}),s==null||s(!1)},"onCancel"),title:m,footer:null,transitionName:ne(f||"","zoom",e.transitionName),maskTransitionName:ne(f||"","fade",e.maskTransitionName),maskClosable:T,style:y,styles:{body:u,mask:r,...g},width:h,zIndex:P,closable:d},o.createElement(nt,{...e,confirmPrefixCls:b,okButtonProps:{...C,...$},cancelButtonProps:{...p,...x}}))},"ConfirmDialog"),ot=a(e=>{const{rootPrefixCls:t,iconPrefixCls:n,direction:r,theme:l}=e;return o.createElement(qe,{prefixCls:t,iconPrefixCls:n,direction:r,theme:l},o.createElement(On,{...e}))},"ConfirmDialogWrapper$1"),V=[];let rt="";function at(){return rt}a(at,"getRootPrefixCls");const zn=a(e=>{var d;const{prefixCls:t,getContainer:n,direction:r}=e,l=Ae(),i=o.useContext(re),c=at()||i.getPrefixCls(),f=t||`${c}-modal`;let u=n;return u===!1&&(u=void 0),v.createElement(ot,{...e,rootPrefixCls:c,prefixCls:f,iconPrefixCls:i.iconPrefixCls,theme:i.theme,direction:r??i.direction,locale:((d=i.locale)==null?void 0:d.Modal)??l,getContainer:u})},"ConfirmDialogWrapper");function J(e){const t=en(),n=document.createDocumentFragment();let r={...e,close:f,open:!0},l;function i(...d){var g;d.some(m=>m==null?void 0:m.triggerCancel)&&((g=e.onCancel)==null||g.call(e,()=>{},...d.slice(1)));for(let m=0;m<V.length;m++)if(V[m]===f){V.splice(m,1);break}nn(n).then(()=>{})}a(i,"destroy");const c=a(d=>{clearTimeout(l),l=setTimeout(()=>{const s=t.getPrefixCls(void 0,at()),g=t.getIconPrefixCls(),m=t.getTheme(),$=v.createElement(zn,{...d});tn(v.createElement(qe,{prefixCls:s,iconPrefixCls:g,theme:m},typeof t.holderRender=="function"?t.holderRender($):$),n)})},"scheduleRender");function f(...d){r={...r,open:!1,afterClose:a(()=>{typeof e.afterClose=="function"&&e.afterClose(),i.apply(this,d)},"afterClose")},c(r)}a(f,"close");function u(d){typeof d=="function"?r=d(r):r={...r,...d},c(r)}return a(u,"update"),c(r),V.push(f),{destroy:f,update:u}}a(J,"confirm");function st(e){return{...e,type:"warning"}}a(st,"withWarn");function lt(e){return{...e,type:"info"}}a(lt,"withInfo");function it(e){return{...e,type:"success"}}a(it,"withSuccess");function ct(e){return{...e,type:"error"}}a(ct,"withError");function ut(e){return{...e,type:"confirm"}}a(ut,"withConfirm");function Hn({rootPrefixCls:e}){rt=e}a(Hn,"modalGlobalConfig");const jn=a(({afterClose:e,config:t,...n},r)=>{const[l,i]=o.useState(!0),[c,f]=o.useState(t),{direction:u,getPrefixCls:d}=o.useContext(re),s=d("modal"),g=d(),m=a(()=>{var C;e(),(C=c.afterClose)==null||C.call(c)},"afterClose"),$=a((...C)=>{var h;i(!1),C.some(y=>y==null?void 0:y.triggerCancel)&&((h=c.onCancel)==null||h.call(c,()=>{},...C.slice(1)))},"close");o.useImperativeHandle(r,()=>({destroy:$,update:a(C=>{f(b=>{const h=typeof C=="function"?C(b):C;return{...b,...h}})},"update")}));const x=c.okCancel??c.type==="confirm",[p]=Ce("Modal",on.Modal);return o.createElement(ot,{prefixCls:s,rootPrefixCls:g,...c,close:$,open:l,afterClose:m,okText:c.okText||(x?p==null?void 0:p.okText:p==null?void 0:p.justOkText),direction:c.direction||u,cancelText:c.cancelText||(p==null?void 0:p.cancelText),...n})},"HookModal"),Fn=o.forwardRef(jn);let Fe=0;const Ln=o.memo(o.forwardRef((e,t)=>{const[n,r]=pn();return o.useImperativeHandle(t,()=>({patchElement:r}),[r]),o.createElement(o.Fragment,null,n)}));function Wn(){const e=o.useRef(null),[t,n]=o.useState([]);o.useEffect(()=>{t.length&&(X(t).forEach(c=>{c()}),n([]))},[t]);const r=o.useCallback(i=>a(function(f){var p;Fe+=1;const u=o.createRef();let d;const s=new Promise(C=>{d=C});let g=!1,m;const $=o.createElement(Fn,{key:`modal-${Fe}`,config:i(f),ref:u,afterClose:a(()=>{m==null||m()},"afterClose"),isSilent:a(()=>g,"isSilent"),onConfirm:a(C=>{d(C)},"onConfirm")});return m=(p=e.current)==null?void 0:p.patchElement($),m&&V.push(m),{destroy:a(()=>{function C(){var b;(b=u.current)==null||b.destroy()}a(C,"destroyAction"),u.current?C():n(b=>[].concat(X(b),[C]))},"destroy"),update:a(C=>{function b(){var h;(h=u.current)==null||h.update(C)}a(b,"updateAction"),u.current?b():n(h=>[].concat(X(h),[b]))},"update"),then:a(C=>(g=!0,s.then(C)),"then")}},"hookConfirm"),[]);return[o.useMemo(()=>({info:r(lt),success:r(it),error:r(ct),warning:r(st),confirm:r(ut)}),[r]),o.createElement(Ln,{key:"modal-holder",ref:e})]}a(Wn,"useModal");const Dn=a(e=>{const{prefixCls:t,className:n,closeIcon:r,closable:l,type:i,title:c,children:f,footer:u,...d}=e,{getPrefixCls:s}=o.useContext(re),g=s(),m=t||s("modal"),$=Ve(g),[x,p]=et(m,$),C=`${m}-confirm`;let b={};return i?b={closable:l??!1,title:"",footer:"",children:o.createElement(nt,{...e,prefixCls:m,confirmPrefixCls:C,rootPrefixCls:g,content:f})}:b={closable:l??!0,title:c,footer:u!==null&&o.createElement(Ye,{...e}),children:f},o.createElement(Ze,{prefixCls:m,className:B(x,`${m}-pure-panel`,i&&C,i&&`${C}-${i}`,n,p,$),...d,closeIcon:Qe(m,r),closable:l,...b})},"PurePanel"),An=fn(Dn);function dt(e){return J(st(e))}a(dt,"modalWarn");const j=tt;j.useModal=Wn;j.info=a(function(t){return J(lt(t))},"infoFn");j.success=a(function(t){return J(it(t))},"successFn");j.error=a(function(t){return J(ct(t))},"errorFn");j.warning=dt;j.warn=dt;j.confirm=a(function(t){return J(ut(t))},"confirmFn");j.destroyAll=a(function(){for(;V.length;){const t=V.pop();t&&t()}},"destroyAllFn");j.config=Hn;j._InternalPanelDoNotUseOrYouWillBeFired=An;const kn=a(({visible:e=!0,onClose:t})=>{const n=Mt(),{login:r,isLoading:l}=Nt(),[i,c]=o.useState(""),[f,u]=o.useState(""),[d,s]=o.useState(""),[g,m]=o.useState(!1);o.useEffect(()=>{const x=a(p=>{p.key==="Escape"&&(t?t():n(-1))},"handleKeyDown");return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[t,n]);const $=a(async()=>{var x;if(!i.trim()){s("用户名不能为空");return}if(!f.trim()){s("密码不能为空");return}s(""),(x=document.activeElement)==null||x.blur();try{await r({username:i,password:f})?(t&&t(),setTimeout(()=>{n("/admin",{replace:!0})},100)):s("用户名或密码错误")}catch(p){const C=p instanceof Error?p.message:"登录失败，请检查您的凭据";s(C)}},"handleLogin");return H.jsx(j,{visible:e,onCancel:a(()=>{t?t():n(-1)},"onCancel"),title:"管理员登录",okText:l?"登录中...":"登录",cancelText:"关闭",onOk:l?void 0:$,className:"tiktok-login-modal",maskClosable:!1,confirmLoading:l,children:H.jsxs("div",{className:"login-content",children:[d&&H.jsx("div",{className:"error-message",children:d}),H.jsxs("div",{className:"form-group",children:[H.jsx("label",{htmlFor:"username",children:"Username"}),H.jsx("input",{type:"text",id:"username",className:"form-input",placeholder:"请输入用户名",value:i,onChange:a(x=>c(x.target.value),"onChange"),disabled:l,autoComplete:"username",autoFocus:!0,"aria-label":"Username"})]}),H.jsxs("div",{className:"form-group",children:[H.jsx("label",{htmlFor:"password",children:"Password"}),H.jsx("input",{type:g?"text":"password",id:"password",className:"form-input",placeholder:"请输入密码",value:f,onChange:a(x=>u(x.target.value),"onChange"),disabled:l,autoComplete:"current-password","aria-label":"Password"}),H.jsx("button",{type:"button",className:"toggle-password-btn",onClick:a(()=>m(!g),"onClick"),disabled:l,"aria-label":g?"Hide password":"Show password",children:g?"Hide":"Show"})]}),H.jsx("button",{type:"button",className:"forgot-password",onClick:a(()=>alert("忘记密码? 请联系管理员"),"onClick"),disabled:l,children:"忘记密码?"})]})})},"Login");export{kn as default};
//# sourceMappingURL=Login-B6UbAnWi.js.map
