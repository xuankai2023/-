{"version":3,"file":"useMergedMask-CF4Enuai.js","sources":["../../node_modules/antd/es/_util/hooks/useClosable.js","../../node_modules/antd/es/_util/hooks/useMergedMask.js"],"sourcesContent":["\"use client\";\n\nimport React from 'react';\nimport CloseOutlined from \"@ant-design/icons/es/icons/CloseOutlined\";\nimport pickAttrs from \"@rc-component/util/es/pickAttrs\";\nimport { useLocale } from '../../locale';\nimport defaultLocale from '../../locale/en_US';\nimport extendsObject from '../extendsObject';\nimport isNonNullable from '../isNonNullable';\nexport const pickClosable = context => {\n  if (!context) {\n    return undefined;\n  }\n  const {\n    closable,\n    closeIcon\n  } = context;\n  return {\n    closable,\n    closeIcon\n  };\n};\nconst EmptyFallbackCloseCollection = {};\nconst computeClosableConfig = (closable, closeIcon) => {\n  if (!closable && (closable === false || closeIcon === false || closeIcon === null)) {\n    return false;\n  }\n  if (closable === undefined && closeIcon === undefined) {\n    return null;\n  }\n  let closableConfig = {\n    closeIcon: typeof closeIcon !== 'boolean' && closeIcon !== null ? closeIcon : undefined\n  };\n  if (closable && typeof closable === 'object') {\n    closableConfig = {\n      ...closableConfig,\n      ...closable\n    };\n  }\n  return closableConfig;\n};\nconst mergeClosableConfigs = (propConfig, contextConfig, fallbackConfig) => {\n  if (propConfig === false) {\n    return false;\n  }\n  if (propConfig) {\n    return extendsObject(fallbackConfig, contextConfig, propConfig);\n  }\n  if (contextConfig === false) {\n    return false;\n  }\n  if (contextConfig) {\n    return extendsObject(fallbackConfig, contextConfig);\n  }\n  return fallbackConfig.closable ? fallbackConfig : false;\n};\nconst computeCloseIcon = (mergedConfig, fallbackCloseCollection, closeLabel) => {\n  const {\n    closeIconRender\n  } = fallbackCloseCollection;\n  const {\n    closeIcon,\n    ...restConfig\n  } = mergedConfig;\n  let finalCloseIcon = closeIcon;\n  const ariaOrDataProps = pickAttrs(restConfig, true);\n  if (isNonNullable(finalCloseIcon)) {\n    if (closeIconRender) {\n      finalCloseIcon = closeIconRender(finalCloseIcon);\n    }\n    finalCloseIcon = /*#__PURE__*/React.isValidElement(finalCloseIcon) ? (/*#__PURE__*/React.cloneElement(finalCloseIcon, {\n      'aria-label': closeLabel,\n      ...finalCloseIcon.props,\n      ...ariaOrDataProps\n    })) : (/*#__PURE__*/React.createElement(\"span\", {\n      \"aria-label\": closeLabel,\n      ...ariaOrDataProps\n    }, finalCloseIcon));\n  }\n  return [finalCloseIcon, ariaOrDataProps];\n};\nexport const computeClosable = (propCloseCollection, contextCloseCollection, fallbackCloseCollection = EmptyFallbackCloseCollection, closeLabel = 'Close') => {\n  const propConfig = computeClosableConfig(propCloseCollection?.closable, propCloseCollection?.closeIcon);\n  const contextConfig = computeClosableConfig(contextCloseCollection?.closable, contextCloseCollection?.closeIcon);\n  const mergedFallback = {\n    closeIcon: /*#__PURE__*/React.createElement(CloseOutlined, null),\n    ...fallbackCloseCollection\n  };\n  const mergedConfig = mergeClosableConfigs(propConfig, contextConfig, mergedFallback);\n  const closeBtnIsDisabled = typeof mergedConfig !== 'boolean' ? !!mergedConfig?.disabled : false;\n  if (mergedConfig === false) {\n    return [false, null, closeBtnIsDisabled, {}];\n  }\n  const [closeIcon, ariaProps] = computeCloseIcon(mergedConfig, mergedFallback, closeLabel);\n  return [true, closeIcon, closeBtnIsDisabled, ariaProps];\n};\nexport const useClosable = (propCloseCollection, contextCloseCollection, fallbackCloseCollection = EmptyFallbackCloseCollection) => {\n  const [contextLocale] = useLocale('global', defaultLocale.global);\n  return React.useMemo(() => {\n    return computeClosable(propCloseCollection, contextCloseCollection, {\n      closeIcon: /*#__PURE__*/React.createElement(CloseOutlined, null),\n      ...fallbackCloseCollection\n    }, contextLocale.close);\n  }, [propCloseCollection, contextCloseCollection, fallbackCloseCollection, contextLocale.close]);\n};","import { useMemo } from 'react';\nconst normalizeMaskConfig = mask => {\n  if (mask && typeof mask === 'object') {\n    return mask;\n  }\n  if (typeof mask === 'boolean') {\n    return {\n      enabled: mask,\n      blur: mask\n    };\n  }\n  return {};\n};\nexport const useMergedMask = (mask, contextMask, prefixCls) => {\n  return useMemo(() => {\n    const maskConfig = normalizeMaskConfig(mask);\n    const contextMaskConfig = normalizeMaskConfig(contextMask);\n    const mergedConfig = {\n      ...contextMaskConfig,\n      ...maskConfig\n    };\n    const className = mergedConfig.blur !== false ? `${prefixCls}-mask-blur` : undefined;\n    return [mergedConfig.enabled !== false, {\n      mask: className\n    }];\n  }, [mask, contextMask, prefixCls]);\n};"],"names":["pickClosable","__name","context","closable","closeIcon","EmptyFallbackCloseCollection","computeClosableConfig","closableConfig","mergeClosableConfigs","propConfig","contextConfig","fallbackConfig","extendsObject","computeCloseIcon","mergedConfig","fallbackCloseCollection","closeLabel","closeIconRender","restConfig","finalCloseIcon","ariaOrDataProps","pickAttrs","isNonNullable","React","computeClosable","propCloseCollection","contextCloseCollection","mergedFallback","CloseOutlined","closeBtnIsDisabled","ariaProps","useClosable","contextLocale","useLocale","defaultLocale","normalizeMaskConfig","mask","useMergedMask","contextMask","prefixCls","useMemo","maskConfig","className"],"mappings":"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","x_google_ignoreList":[0,1]}