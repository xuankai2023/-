var M=Object.defineProperty;var n=(e,t)=>M(e,"name",{value:t,configurable:!0});import{A,E as C,I as P,l as N,d as y,c as i,b as v,_ as H,m as k,g as D,F as V,a as U,G as $}from"./method-DbqADb85.js";import{r as c,j as s,R as I}from"./index-DOzzhCXK.js";function Y(e){const[t,a]=c.useState(e),l=c.useRef(t),u=c.useCallback(r=>{a(o=>l.current=A(r)?r(o):r)},[t]);return[t,u,l]}n(Y,"useRefState");const G=n(()=>{const e=c.useRef(!1);return c.useEffect(()=>(e.current=!1,()=>{e.current=!0}),[]),e},"useUnmountedRef"),K=n((e={})=>{const t=G(),[a,l,u]=Y(e),r=c.useCallback(o=>{t.current||l(d=>Object.assign(Object.assign({},d),A(o)?o(d):o))},[]);return[a,r,u]},"useSetState");function q(e){const t=c.useRef(e);return t.current=e,t}n(q,"useLatest");const J=n(e=>{const t=q(e);c.useEffect(()=>()=>{t.current()},[])},"useUnmount");function L(e,t){if(e===t)return!0;for(let a=0;a<e.length;a++)if(!Object.is(e[a],t[a]))return!1;return!0}n(L,"depsAreSame");const Q=n(e=>n((a,l,u)=>{const r=c.useRef(!1),o=c.useRef([]),d=c.useRef([]),f=c.useRef();e(()=>{var m;const h=(Array.isArray(u)?u:[u]).map(g=>C(g));if(!r.current){r.current=!0,o.current=h,d.current=l,f.current=a();return}(h.length!==o.current.length||!L(h,o.current)||!L(l,d.current))&&((m=f.current)===null||m===void 0||m.call(f),o.current=h,d.current=l,f.current=a())}),J(()=>{var m;(m=f.current)===null||m===void 0||m.call(f),r.current=!1})},"useEffectWithTarget"),"createEffectWithTarget"),X=Q(c.useEffect);function Z(e,t){const[a,l]=c.useState(),[u,r]=c.useState();return X(()=>{const o=C(e);if(!o)return;const d=new IntersectionObserver(f=>{for(const m of f)r(m.intersectionRatio),l(m.isIntersecting)},Object.assign(Object.assign({},t),{root:C(t==null?void 0:t.root)}));return d.observe(o),()=>{d.disconnect()}},[],e),[a,u]}n(Z,"useInViewport");const p=n(e=>c.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"},e),c.createElement("path",{d:"M389.334 167l-18.5 55.556H111.556v388.889l71.833-71.833c20.051-20.052 51.558-21.594 73.372-4.628l5.24 4.628 71.777 71.833 102.89-123.5L556 667l-55.556 166.667h-388.89c-28.476 0-51.97-21.46-55.181-49.08L56 778.112V222.556c0-28.528 21.46-51.978 49.08-55.183l6.476-.373h277.778zm500 0c28.528 0 51.978 21.412 55.183 49.07l.373 6.486v555.556c0 28.476-21.412 51.97-49.07 55.182l-6.486.374H611.556L667.112 667 498.389 413.889l71.112-85.278c20.533-24.681 57.182-26.569 80.135-5.481l4.698 4.87 235 274.167V222.556H481.945l18.5-55.556h388.89zM306.028 278.089c15.508 0 30.03 4.243 42.47 11.63l-14.72 43.948 45.282 67.904c-14.188 25.737-41.585 43.185-73.032 43.185-46 0-83.333-37.333-83.333-83.334 0-46 37.333-83.333 83.333-83.333z",fillRule:"evenodd"})),"SvgIcon$1"),ee=c.forwardRef((e,t)=>c.createElement(P,Object.assign({name:"SvgPhotoFail"},e,{ref:t}),c.createElement(p,null))),te=n(e=>c.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"},e),c.createElement("path",{d:"M305.583 277.756c-46 0-83.333 37.333-83.333 83.333s37.333 83.333 83.333 83.333 83.334-37.333 83.334-83.333-37.334-83.333-83.334-83.333m348.306 49.91c-22.333-26.11-62.833-25.833-84.833.612L333.333 611.11l-71.777-71.833c-21.723-21.722-56.89-21.722-78.612 0l-71.833 71.833V222.222H888.89v379.611l-235-274.166zm235-161H111.11c-30.667 0-55.555 24.834-55.555 55.556v555.555c0 30.667 24.888 55.556 55.555 55.556H888.89c30.722 0 55.555-24.889 55.555-55.555V222.222c0-30.722-24.833-55.555-55.555-55.555z",fillRule:"evenodd"})),"SvgIcon"),W=c.forwardRef((e,t)=>c.createElement(P,Object.assign({name:"SvgPhoto"},e,{ref:t}),c.createElement(te,null))),[O]=v("image"),z=n(e=>{const[t,a]=K({loading:!0,error:!1}),l=c.useRef(null),{fit:u,errorIcon:r,loadingIcon:o,showError:d,showLoading:f,block:m}=e,R=c.useMemo(()=>{const j=Object.assign({},e.style);return N(e.width)&&(j.width=y(e.width)),N(e.height)&&(j.height=y(e.height)),N(e.radius)&&(j.overflow="hidden",j.borderRadius=y(e.radius)),j},[e.style,e.width,e.height,e.radius]);c.useEffect(()=>{const j={error:!1,loading:!0};l.current&&(l.current.complete?j.loading=!1:j.loading=!0),a(j)},[e.src]);const h=n(j=>{var b;a({loading:!1}),(b=e.onLoad)===null||b===void 0||b.call(e,j)},"onLoad"),g=n(j=>{var b;a({error:!0,loading:!1}),(b=e.onLoad)===null||b===void 0||b.call(e,j)},"onError"),x=n(()=>o?I.cloneElement(o,{className:i(O("loading-icon")),fontSize:e.iconSize}):null,"renderLoadingIcon"),E=n(()=>r?I.cloneElement(r,{className:i(O("error-icon")),fontSize:e.iconSize}):null,"renderErrorIcon"),F=n(()=>t.loading&&f?s.jsx("div",Object.assign({className:i(O("loading")),onClick:e.onClick},{children:x()})):t.error&&d?s.jsx("div",Object.assign({className:i(O("error")),onClick:e.onClick},{children:E()})):null,"renderPlaceholder"),B=n(()=>{if(t.error||!e.src)return null;const j={className:i(O("img")),style:{objectFit:u}};return s.jsx("img",Object.assign({ref:l,alt:e.alt||"img",src:e.src,onLoad:h,onError:g},j))},"renderImage");return s.jsxs("div",Object.assign({className:i(e.className,O({block:m,round:e.round})),style:R,onClick:e.onClick},{children:[B(),F(),e.children]}))},"Image"),_="100%",ne="60%",[w]=v("skeleton"),re=n(e=>{var{children:t,className:a,style:l}=e,u=H(e,["children","className","style"]);const r=k(u,{loading:!0,animate:!0,round:!0,row:3,avatarShape:"round",rowWidth:_}),o=n(h=>{const{rowWidth:g}=r;return g===_&&h===+r.row-1&&h!==0?ne:Array.isArray(g)?g[h]:g},"getRowWidth"),d=n(h=>{const{rowHeight:g}=r;return Array.isArray(g)?g[h]:g},"getRowHeight"),f=n(()=>r.avatar?s.jsx("div",{className:i(w("avatar",r.avatarShape)),style:D(r.avatarSize)}):null,"renderAvatar"),m=n(()=>{if(r.title){const h=y(r.titleWidth),g=y(d(0));return s.jsx("div",{className:i(w("title")),style:{width:h,height:g}})}return null},"renderTitle"),R=n(()=>Array(r.row).fill("").map((h,g)=>{const x=y(o(g)),E=y(d(g));return s.jsx("div",{className:i(w("row")),style:{width:x,height:E}},g)}),"renderRows");return r.loading?s.jsxs("div",Object.assign({className:i(a,w({animate:r.animate,round:r.round})),style:l},{children:[f(),s.jsxs("div",Object.assign({className:i(w("content"))},{children:[m(),R()]}))]})):s.jsx(s.Fragment,{children:t})},"Skeleton"),[se]=v("lazyload"),ce=n(e=>{const t=k(e,{placeholder:s.jsx(re,{title:!0})}),a=c.useRef(),[l]=Z(a),{height:u,placeholder:r,children:o,className:d,style:f}=t;return l?s.jsx(s.Fragment,{children:o}):s.jsx("div",Object.assign({ref:a,className:i(se(),d),style:Object.assign({height:u},f)},{children:r}))},"Lazyload"),T=n(e=>s.jsx("div",Object.assign({className:i(e("loading"))},{children:s.jsx(W,{className:i(e("loading-icon"))})})),"getLazyImagePlaceholder"),[S]=v("image"),ae=n(e=>{const t=k(e,{fit:"fill",errorIcon:s.jsx(ee,{}),loadingIcon:s.jsx(W,{}),showError:!0,showLoading:!0,block:!0}),{lazyload:a}=t,l=H(t,["lazyload"]),u=n(()=>typeof a=="boolean"?T(S):a.placeholder||T(S),"renderPlaceholder");if(a){const{className:r,style:o,height:d,width:f}=l,m={className:i(r,S({block:l.block})),style:Object.assign(Object.assign({},o),{height:d,width:f})};return s.jsx(ce,Object.assign({},m,{placeholder:u()},{children:s.jsx(z,Object.assign({},l))}))}return s.jsx(z,Object.assign({},l))},"LazyImage"),le=Symbol("image"),je=Object.assign(ae,{[V]:le}),oe=n(e=>{const[t]=v("card-header");return s.jsxs("div",Object.assign({className:i(e.className,t(),{[$]:e.border}),style:e.style,onClick:e.onClick},{children:[s.jsx("div",Object.assign({className:i(t("content"))},{children:e.children})),e.extra&&s.jsx("div",Object.assign({className:i(t("extra"))},{children:e.extra}))]}))},"CardHeader"),ie=n(e=>{const[t]=v("card-body");return s.jsx("div",Object.assign({className:i(e.className,t()),style:e.style,onClick:e.onClick},{children:e.children}))},"CardBody"),ue=n(e=>{const[t]=v("card-footer");return s.jsx("div",Object.assign({className:i(e.className,t({compact:e.compact}),{[U]:e.border}),style:e.style,onClick:e.onClick},{children:e.children}))},"CardFooter"),de=n(e=>{const[t]=v("card-cover");return s.jsx("div",Object.assign({className:i(e.className,t()),style:e.style,onClick:e.onClick},{children:e.children}))},"CardCover"),ge=n(e=>{const[t]=v("card"),{className:a,style:l,round:u,border:r,children:o}=e;return s.jsx("div",Object.assign({className:i(t({round:u,border:r}),a),style:l,onClick:e.onClick},{children:o}))},"Card$1"),ve=Object.assign(ge,{Header:oe,Body:ie,Footer:ue,Cover:de});export{ve as C,je as I,q as a,J as b,Z as c,Y as d,K as u};
//# sourceMappingURL=index-DKTWhZZT.js.map
