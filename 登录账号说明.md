# 登录账号说明
admin@example.com
密码 123456
## 📋 当前状态

项目已从 Mock 数据切换到真实后端 API，需要使用后端服务器提供的账号进行登录。

## 🔑 登录方式

### 方式一：使用后端默认账号（如果后端有提供）

如果后端服务器有默认的测试账号，请咨询后端开发人员获取。

**常见的默认测试账号**（仅供参考，实际以后端为准）：
- 管理员账号：`admin` / `123456`（或使用邮箱 `admin@example.com`）
- 普通用户：`user` / `user123`（或使用邮箱 `user@example.com`）

### 方式二：注册新账号

如果后端没有默认账号，可以通过注册接口创建新账号：

#### 1. 通过 API 直接注册

使用 Postman 或 curl 调用注册接口：

```bash
curl -X POST http://localhost:8083/api/v1/users/signup \
  -H "Content-Type: application/json" \
  -d '{
    "email": "your-email@example.com",
    "password": "your-password",
    "full_name": "Your Name"
  }'
```

#### 2. 通过前端注册（如果前端有注册页面）

访问注册页面，填写以下信息：
- **邮箱**：`your-email@example.com`
- **密码**：`your-password`
- **姓名**：`Your Name`

## 📝 代码中的 Mock 用户（已废弃）

⚠️ **注意**：以下 Mock 用户仅用于开发测试，现在已切换到真实后端 API，这些账号不再有效：

### Mock 用户列表

**管理员账号**：
- 用户名：`admin`
- 密码：`123456`
- 邮箱：`admin@example.com`

**普通用户**：
- 用户名：`user`
- 密码：`user123`
- 邮箱：`user@example.com`

这些账号定义在以下文件中（仅供参考）：
- `src/auth/config.ts`
- `src/auth/services/authapi.ts`

## 🔧 登录接口说明

### 登录接口

**POST** `/api/v1/login/access-token`

**请求格式**：
- Content-Type: `multipart/form-data` 或 `application/x-www-form-urlencoded`
- 参数：
  - `username`: 用户邮箱（注意：后端使用邮箱作为用户名）
  - `password`: 用户密码

**响应**：
```json
{
  "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "token_type": "bearer"
}
```

### 重要提示

1. **用户名格式**：后端使用**邮箱**作为用户名，不是用户名本身
2. **Token 存储**：登录成功后，Token 会自动存储在 `localStorage` 中
3. **Token 使用**：后续请求会自动在请求头中添加 `Authorization: Bearer {token}`

## 🚀 快速开始

### 步骤 1：确保后端服务器运行

```bash
# 检查后端是否运行在 http://localhost:8083
curl http://localhost:8083/api/v1/login/test-token
```

### 步骤 2：注册账号（如果没有账号）

```bash
curl -X POST http://localhost:8083/api/v1/users/signup \
  -H "Content-Type: application/json" \
  -d '{
    "email": "test@example.com",
    "password": "test123456",
    "full_name": "Test User"
  }'
```

### 步骤 3：登录

在前端登录页面输入：
- **用户名/邮箱**：`test@example.com`
- **密码**：`test123456`

## ❓ 常见问题

### Q: 登录时提示"无法连接到后端服务器"？

A: 请确保：
1. 后端服务器已启动并运行在 `http://localhost:8083`
2. 检查 `vite.config.ts` 中的代理配置是否正确
3. 查看后端服务器日志确认服务正常运行

### Q: 登录时提示"用户名或密码错误"？

A: 请确认：
1. 使用的是邮箱作为用户名（不是用户名）
2. 密码是否正确
3. 账号是否已在后端创建

### Q: 如何查看后端是否有默认账号？

A: 可以：
1. 查看后端项目的 README 或文档
2. 查看后端数据库初始化脚本
3. 咨询后端开发人员

### Q: 如何重置密码？

A: 使用密码恢复接口：
```bash
curl -X POST http://localhost:8083/api/v1/password-recovery/your-email@example.com
```

## 📞 需要帮助？

如果遇到登录问题，请：
1. 检查后端服务器是否正常运行
2. 查看浏览器控制台的错误信息
3. 查看后端服务器日志
4. 确认网络连接正常

